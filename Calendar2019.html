<!DOCTYPE HTML>
<html>

<head>
    <title>Calendar 2019</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="style/calendarStyle.css">
    <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-auth.js"></script>
</head>

<body>
    <header id="header"></header>
    <div id="calendar">
        <div class="title">
            <p>December 2019</p>
        </div>
        <table border="1">
            <tr>
                <th>Sun</th>
                <th>Mon</th>
                <th>Tue</th>
                <th>Wed</th>
                <th>Thu</th>
                <th>Fri</th>
                <th>Sat</th>
            </tr>
            <tr>
                <td><div class='calSqaure'><span class="date">1</span></div></td>
                <td><div class='calSqaure'><span class="date">2</span></div></td>
                <td><div class='calSqaure'><span class="date">3</span></div></td>
                <td><div class='calSqaure'><span class="date">4</span></div></td>
                <td><div class='calSqaure'><span class="date">5</span></div></td>
                <td><div class='calSqaure'><span class="date">6</span></div></td>
                <td><div class='calSqaure'><span class="date">7</span></div></td>
            </tr>
            <tr>
                <td><div class='calSqaure'><span class="date">8</span></div></td>
                <td><div class='calSqaure'><span class="date">9</span></div></td>
                <td><div class='calSqaure'><span class="date">10</span></div></td>
                <td><div class='calSqaure'><span class="date">11</span></div></td>
                <td><div class='calSqaure'><span class="date">12</span></div></td>
                <td><div class='calSqaure'><span class="date">13</span></div></td>
                <td><div class='calSqaure'><span class="date">14</span></div></td>
            </tr>
            <tr>
                <td><div class='calSqaure'><span class="date">15</span></div></td>
                <td><div class='calSqaure'><span class="date">16</span></div></td>
                <td><div class='calSqaure'><span class="date">17</span></div></td>
                <td><div class='calSqaure'><span class="date">18</span></div></td>
                <td><div class='calSqaure'><span class="date">19</span></div></td>
                <td><div class='calSqaure'><span class="date">20</span></div></td>
                <td><div class='calSqaure'><span class="date">21</span></div></td>
            </tr>
            <tr>
                <td><div class='calSqaure'><span class="date">22</span></div></td>
                <td><div class='calSqaure'><span class="date">23</span></div></td>
                <td><div class='calSqaure'><span class="date">24</span></div></td>
                <td><div class='calSqaure'><span class="date">25</span></div></td>
                <td><div class='calSqaure'><span class="date">26</span></div></td>
                <td><div class='calSqaure'><span class="date">27</span></div></td>
                <td><div class='calSqaure'><span class="date">28</span></div></td>
            </tr>
            <tr>
                <td><div class='calSqaure'><span class="date">29</span></div></td>
                <td><div class='calSqaure'><span class="date">30</span></div></td>
                <td><div class='calSqaure'><span class="date">31</span></div></td>
                <td><div class='calSqaure'><span class="date">&nbsp;</span></div></td>
                <td><div class='calSqaure'><span class="date">&nbsp;</span></div></td>
                <td><span class="date">&nbsp;</span></td>
                <td><span class="date">&nbsp;</span></td>
            </tr>
        </table>
        <br>
    </div>
    <div id="dataform">
        <form>
            <label for="datechoice">Date</label>
            <input type="date" id="datechoice">
            <label for="timepick">Time 00:00 AM/PM</label>
            <input type="time" id="timepick">
            <br>
        </form>
    </div>
    <div id='nextPage'>
        <input id='confirm' type='button' value='Review Order'><span id='arrow'>▸</span>
    </div>
    <footer id="footer"> </footer>
    <script src="scripts/General.js"></script>
    <script>
        let dateChoice
        let calArray = document.getElementsByClassName('calSqaure');

        for (let i=0; i < calArray.length; i++) {
            calArray[i].addEventListener('click', calendar);
            calArray[i].addEventListener('click', function() {
                let active = document.getElementsByClassName('active')
                active[i].className = active[i].className.replace(' active', '');
                this.className += 'active';
        });
    }

        function calendar() {
            let content = this.innerHTML.replace('<span class="date">', '');
            dateChoice = 'November ' + content.replace('</span>', '') + ', 2019';
        }

        function getDate() {
            let time = document.getElementById("timepick").value;
            let dateChoice = document.getElementById("datechoice").value;
            localStorage.setItem('Date', dateChoice);
            localStorage.setItem('Time', time);
            location.href = "confirmation.html";
        }
        // get date from user
        document.getElementById("confirm").addEventListener("click", getDate);
    </script>
</body>

</html>