<!DOCTYPE html>

<html>
    <head>
        <title>Confirmation</title>

        <link
        rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous"/>
        <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
        <link rel='stylesheet' type='text/css' href='style/confirmation.css'>
        <link rel='stylesheet' type='text/css' href='style/generalstyle.css'>

    </head>

    <body>
        <header id='header'></header>
        <article>
            <div id='content'>
                <h4>Review Your Order</h1>
                <h6>Company</h3>
                <p>Name</p>
                <h6>Service</h3>
                <p>Service</p>
                <h6>Date</h3>
                <p>November 7, 2019</p>
                <h6>Time</h3>
                <p>12:34 PM - 1:34 PM</p>
                <h6>Estimated Cost</h3>
                <p>$XX</p>
            </div>
            
            <div id='nextPage'>
                <input id='confirm' type='button'></input>
                <p>Confirm</p>
            </div>
        </article>

        <footer id='footer'></footer>

        <script src="scripts/general.js"></script>

        <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-firestore.js"></script>

        <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyCo0nUgjDTbPTZGp1YIbjP2mKRQ3pNtQao",
            authDomain: "houseup-b34e1.firebaseapp.com",
            databaseURL: "https://houseup-b34e1.firebaseio.com",
            projectId: "houseup-b34e1",
            storageBucket: "houseup-b34e1.appspot.com",
            messagingSenderId: "980464254442",
            appId: "1:980464254442:web:d2f128dca2d663c8288693",
            measurementId: "G-Z4RG137FW0"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        var db = firebase.firestore();
        </script>

        <script>
        document.getElementById('confirm').onclick = addOrder

        // Add the order to the Orders DB
        function addOrder() {
            db.collection('Orders').add({
                ContractorID: localStorage.getItem('ContractorID'),
                ContractorName: localStorage.getItem('ContactorName'),
                Cost: localStorage.getItem('Cost'),
                Request: localStorage.getItem('Request'),
                Service: localStorage.getItem('Service'),
                Status: localStorage.getItem('Status'),
                SubmissionDate: 'Date',
            })
            .then(function(docRef) {
                console.log("Document written with ID: ", docRef.id);
            })
            .catch(function(error) {
                console.error("Error adding document: ", error);
            });
        }
        </script>
    </body>
</html>